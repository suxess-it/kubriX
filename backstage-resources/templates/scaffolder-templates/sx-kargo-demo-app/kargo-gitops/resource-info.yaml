apiVersion: backstage.io/v1alpha1
kind: Resource
metadata:
  name: ${{values.team}}-demo-${{values.application_id}}-prod
  title: ${{values.team}}-demo-${{values.application_id}}-prod
  description: ${{values.team}}-demo-${{values.application_id}}-prod
  links:
    - url: ${{values.team}}-demo-${{values.application_id}}-prod.${{values.fqdn}}
      title: Prod Instance of ${{values.team}}-demo-${{values.application_id}}
      icon: web
spec:
  owner: ${{values.team}}
  type: instance
  lifecycle: experimental
---
apiVersion: backstage.io/v1alpha1
kind: Resource
metadata:
  name: ${{values.team}}-demo-${{values.application_id}}-qa
  title: ${{values.team}}-demo-${{values.application_id}}-qa
  description: ${{values.team}}-demo-${{values.application_id}}-qa
  links:
    - url: ${{values.team}}-demo-${{values.application_id}}-qa.${{values.fqdn}}
      title: QA Instance of ${{values.team}}-demo-${{values.application_id}}
      icon: web
spec:
  owner: ${{values.team}}
  type: instance
  lifecycle: experimental
---
apiVersion: backstage.io/v1alpha1
kind: Resource
metadata:
  name: ${{values.team}}-demo-${{values.application_id}}-test
  title: ${{values.team}}-demo-${{values.application_id}}-test
  description: ${{values.team}}-demo-${{values.application_id}}-test
  links:
    - url: ${{values.team}}-demo-${{values.application_id}}-test.${{values.fqdn}}
      title: Test Instance of ${{values.team}}-demo-${{values.application_id}}
      icon: web
spec:
  owner: ${{values.team}}
  type: instance
  lifecycle: experimental
